---
title: –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
sidebar_position: 2
---

# üß≠ Navigation & Deep Linking (Canonical)

**Version:** 2025-06-26 v1.0  
**Status:** ‚úÖ Canonical

> –ö–æ–Ω—Å–æ–ª–∏–¥–∏—Ä—É–µ—Ç:
>
> - `17-navigation-routing.md`
> - `20-deep-linking.md`
>   –ê—Ä—Ö–∏–≤: `docs/archive/2025-06-26/`

## 1. In-App Navigation (Next.js)

- `<Link>` –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –ø—É—Ç–µ–π.
- IPC `navigation:navigate` –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –∏–∑ –¥—Ä—É–≥–∏—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤.
- –¢–∞–±–ª–∏—Ü–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è `pathname` ‚Üí `view`.

## 2. Deep Linking (neira:// URL Scheme)

- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ –≤ `WindowManager`.
- –ü—Ä–∏–º–µ—Ä—ã: `neira://view/chat?chatId=123`, `neira://settings/profile`.
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤ Preload: –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ `<Link>` –≤–Ω—É—Ç—Ä–∏.

## 3. Cross-Window Navigation

‚Ä¶

## 4. Security & Validation

‚Ä¶

## –†–µ—à–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∏

### SPA-–Ω–∞–≤–∏–≥–∞—Ü–∏—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ (NAVIGATION:SPA_FIX)

**–ü—Ä–æ–±–ª–µ–º–∞:** –í –±—Ä–∞—É–∑–µ—Ä–µ –Ω–∞–≤–∏–≥–∞—Ü–∏—è –ª–æ–º–∞–ª–∞ SPA-–ø–∞—Ä–∞–¥–∏–≥–º—É ‚Äî `createBrowserNavigationManager` –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª `window.location.href = url`, –≤—ã–∑—ã–≤–∞—è –ø–æ–ª–Ω—É—é –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏ —É–Ω–∏—á—Ç–æ–∂–∞—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ React –∏ Zustand.

**–†–µ—à–µ–Ω–∏–µ:**

- –°–æ–∑–¥–∞–Ω —Ö—É–∫ `useNavigationManager` —Å —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º: –≤ Electron –∏—Å–ø–æ–ª—å–∑—É–µ—Ç IPC-–∫–∞–Ω–∞–ª—ã, –≤ –±—Ä–∞—É–∑–µ—Ä–µ ‚Äî Next.js Router –¥–ª—è SPA-–Ω–∞–≤–∏–≥–∞—Ü–∏–∏
- –û–±–Ω–æ–≤–ª–µ–Ω—ã `BrowserToolbar.tsx` –∏ `TabsBar.tsx` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ö—É–∫–∞ –≤–º–µ—Å—Ç–æ –ø—Ä—è–º–æ–≥–æ `navigationAPI.navigate`
- –î–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞—é—â–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤ `navigation.ts` –∏ —Ç–µ—Å—Ç—ã –¥–ª—è –Ω–æ–≤–æ–≥–æ —Ö—É–∫–∞

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –£—Å—Ç—Ä–∞–Ω–µ–Ω–∞ –ø–æ–ª–Ω–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü –≤ neira-app –≤–Ω–µ Electron, —É–ª—É—á—à–µ–Ω–æ DX –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤, –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è —á–∏—Å—Ç–æ—Ç–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç Next.js App Router.

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –≤ Electron (NAVIGATION:ELECTRON_FIXES)

**–ü—Ä–æ–±–ª–µ–º–∞:** –û—à–∏–±–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ `ERR_FILE_NOT_FOUND` –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –Ω–∞—Å—Ç—Ä–æ–µ–∫ (`/settings`, `/settings/mcp`) –∏ –ø—Ä–æ–±–ª–µ–º—ã –∑–∞–ø—É—Å–∫–∞ Python Agent –∏–∑-–∑–∞ –ø–æ–∏—Å–∫–∞ –±–∏–Ω–∞—Ä–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ –∏ proto-—Ñ–∞–π–ª–æ–≤.

**–†–µ—à–µ–Ω–∏–µ:**

- –î–æ–±–∞–≤–ª–µ–Ω –∞–ª–∏–∞—Å `settings` –≤ `AppRegistry` –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `resolveUrl` –≤ `NavigationManager.ts` –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø—É—Ç–µ–π –∫ settings
- –°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª `index.html` –≤ `packages/neira-app/out/settings/` –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –∫–æ—Ä–Ω–µ–≤–æ–º—É –ø—É—Ç–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫
- –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤ `PythonAPIManager.ts`: –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –Ω–∞ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ, –ø–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ, –ø–æ–∏—Å–∫ proto-—Ñ–∞–π–ª–æ–≤ –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –º–µ—Å—Ç–∞—Ö

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –Ω–∞—Å—Ç—Ä–æ–µ–∫, —É—Å–ø–µ—à–Ω—ã–π –∑–∞–ø—É—Å–∫ –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Python Agent, –ø–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏.

---

## Revision History

| Date       | Version | Change        | Author |
| ---------- | ------- | ------------- | ------ |
| 2025-08-05 | 2.0 | –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∑–Ω–∞–Ω–∏–π –∏–∑ Phase 2: SPA-–Ω–∞–≤–∏–≥–∞—Ü–∏—è, Electron-—Ñ–∏–∫—Å—ã | @docbuilder |
| 2025-06-26 | 1.0 | Initial merge | @docs-team |

## –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏

### NavigationManager

`NavigationManager` ‚Äî —ç—Ç–æ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏. –û–Ω –∏–º–µ–µ—Ç –¥–≤–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:

- `createElectronNavigationManager` ‚Äî –¥–ª—è Electron-–æ–∫—Ä—É–∂–µ–Ω–∏—è, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç IPC-–∫–∞–Ω–∞–ª—ã –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
- `createBrowserNavigationManager` ‚Äî –¥–ª—è –±—Ä–∞—É–∑–µ—Ä–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ API –±—Ä–∞—É–∑–µ—Ä–∞

### –•—É–∫ useNavigationManager

–î–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ React –º—ã –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ–º —Ö—É–∫ `useNavigationManager`, –∫–æ—Ç–æ—Ä—ã–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–±–∏—Ä–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –æ–∫—Ä—É–∂–µ–Ω–∏—è:

```tsx
import { useNavigationManager } from '@/hooks/useNavigationManager'

function MyComponent() {
  const navigation = useNavigationManager()
  
  const handleClick = () => {
    // –†–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –≤ Electron, —Ç–∞–∫ –∏ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
    navigation.navigateTo('/settings')
  }
  
  return `<button onClick={handleClick}>`Go to Settings</button>
}
```

–í Electron-–æ–∫—Ä—É–∂–µ–Ω–∏–∏ —Ö—É–∫ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç IPC-–∫–∞–Ω–∞–ª—ã –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏, –∞ –≤ –±—Ä–∞—É–∑–µ—Ä–µ ‚Äî Next.js Router –¥–ª—è SPA-–Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –±–µ–∑ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã.

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è useNavigationManager

1. **SPA-–Ω–∞–≤–∏–≥–∞—Ü–∏—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ**: –í–º–µ—Å—Ç–æ –ø–æ–ª–Ω–æ–π –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —á–µ—Ä–µ–∑ `window.location.href`, —Ö—É–∫ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `router.push()` –∏–∑ Next.js –¥–ª—è –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏.
2. **–ï–¥–∏–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å**: –û–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –∫–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –≤ Electron, —Ç–∞–∫ –∏ –≤ –±—Ä–∞—É–∑–µ—Ä–µ.
3. **–¢–∏–ø–∏–∑–∞—Ü–∏—è**: –í—Å–µ –º–µ—Ç–æ–¥—ã –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω—ã.
4. **–¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å**: –õ–µ–≥–∫–æ –º–æ–∫–∞–µ—Ç—Å—è –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

### –í Electron

```
React Component ‚Üí useNavigationManager ‚Üí navigationAPI.navigate ‚Üí IPC ‚Üí NavigationManager ‚Üí TabManager ‚Üí WebContentsView
```

### –í –±—Ä–∞—É–∑–µ—Ä–µ

```
React Component ‚Üí useNavigationManager ‚Üí Next.js Router ‚Üí SPA-–Ω–∞–≤–∏–≥–∞—Ü–∏—è
```

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ë–∞–∑–æ–≤–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è

```tsx
const navigation = useNavigationManager()

// –ù–∞–≤–∏–≥–∞—Ü–∏—è –Ω–∞ –Ω–æ–≤—ã–π URL
navigation.navigateTo('/settings')

// –ù–∞–≤–∏–≥–∞—Ü–∏—è –Ω–∞–∑–∞–¥/–≤–ø–µ—Ä–µ–¥
navigation.goBack()
navigation.goForward()

// –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ –ø—É—Ç–∏
const currentPath = navigation.getCurrentPath()

// –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ø—É—Ç–∏
useEffect(() => {
  const unsubscribe = navigation.onNavigationChange((path) => {
    console.log('Path changed:', path)
  })
  
  return unsubscribe
}, [navigation])
```

### –ù–∞–≤–∏–≥–∞—Ü–∏—è —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏

```tsx
// –ù–∞–≤–∏–≥–∞—Ü–∏—è —Å query-–ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
navigation.navigateTo('/chat?id=123')

// –ù–∞–≤–∏–≥–∞—Ü–∏—è —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
navigation.navigateTo(`/user/${userId}`)
```

## –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **–í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ useNavigationManager** –≤–º–µ—Å—Ç–æ –ø—Ä—è–º—ã—Ö –≤—ã–∑–æ–≤–æ–≤ `getNavigationManager()` –∏–ª–∏ `window.location.href` –≤ React-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö.

2. **–ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–∞–ø—Ä—è–º—É—é navigationAPI** –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö, —Ç–∞–∫ –∫–∞–∫ —ç—Ç–æ –æ–±—Ö–æ–¥–∏—Ç —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–ª–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏.

3. **–î–ª—è —Å—Å—ã–ª–æ–∫ –≤–Ω—É—Ç—Ä–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è** –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `Link` –∏–∑ Next.js, –∫–æ—Ç–æ—Ä—ã–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–ª–∏–µ–Ω—Ç—Å–∫—É—é –Ω–∞–≤–∏–≥–∞—Ü–∏—é:

```tsx
import Link from 'next/link'

function MyComponent() {
  return `<Link href="/settings">`Settings</Link>
}
```

## –û—Ç–ª–∞–¥–∫–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

–î–ª—è –æ—Ç–ª–∞–¥–∫–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏:

```tsx
const navigation = useNavigationManager()

navigation.navigateTo('/settings').catch(error => {
  console.error('Navigation failed:', error)
})
```

–í Electron-–æ–∫—Ä—É–∂–µ–Ω–∏–∏ –≤—Å–µ —Å–æ–±—ã—Ç–∏—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å Main-–ø—Ä–æ—Ü–µ—Å—Å–∞ —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º `[NavigationManager]`.
