# Диагностика проблем с отдельными функциями

Этот гайд посвящен решению проблем, связанных с конкретными функциями, такими как MCP-серверы и голосовой интерфейс.

## 1. Проблемы с MCP Серверами

- **Проблема:** Инструменты (tools) не загружаются с MCP сервера.
- **Решение:**
  1. **Проверьте доступность сервера:**

     ```bash
     curl -I "https://your-mcp-server.com/"
     ```

     Ожидаемый ответ — `HTTP/2 200`.
  2. **Проверьте Session ID:** Для серверов типа `workflow.neira.sale` убедитесь, что в приложении используется валидный `Session ID`.
  3. **Graceful Fallback:** Помните, что система имеет встроенный механизм graceful fallback. Если сервер недоступен или несовместим, приложение продолжит работать без него, отключив соответствующие инструменты.

## 2. Проблемы с голосовым интерфейсом

- **Проблема:** Приходят ошибки `429 Too Many Requests` от Gladia API при использовании голосового ввода.
- **Причина:** Превышен лимит запросов к API.
- **Решение:**
  1. **Проверьте ключ API:** Убедитесь, что переменная `NEXT_PUBLIC_GLADIA_API_KEY` в вашем `.env` файле верна.
  2. **Проверьте параллельное использование:** Убедитесь, что ваш API-ключ не используется одновременно в нескольких других приложениях или сессиях, что может приводить к быстрому исчерпанию лимитов.
