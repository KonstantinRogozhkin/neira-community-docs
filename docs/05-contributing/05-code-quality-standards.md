# Code Quality Standards

## üéØ –ü—Ä–∏–Ω—Ü–∏–ø—ã

### Clean Code

- **–ü—Ä–æ–∞–∫—Ç–∏–≤–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –º—ë—Ä—Ç–≤–æ–≥–æ –∫–æ–¥–∞**: –ó–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–æ–¥, –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ñ–∞–π–ª—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å—Ç–∞—Ä—ã–µ preload-—Å–∫—Ä–∏–ø—Ç—ã) –∏ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–æ–ª–∂–Ω—ã –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ —É–¥–∞–ª—è—Ç—å—Å—è, –∞ –Ω–µ –Ω–∞–∫–∞–ø–ª–∏–≤–∞—Ç—å—Å—è. –î–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `knip`.
- **–ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–±—Ä–æ—Å —Å–æ—Å—Ç–æ—è–Ω–∏—è**: –î–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è "–∑–∞–ª–∏–ø–∞–Ω–∏—è" —Å–∏—Å—Ç–µ–º—ã –≤ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –≤—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `try/finally` –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ —Ñ–ª–∞–≥–∞–º–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `isCreatingTab`), —á—Ç–æ–±—ã –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –∏—Ö —Å–±—Ä–æ—Å –¥–∞–∂–µ –≤ —Å–ª—É—á–∞–µ –æ—à–∏–±–æ–∫.
- **–ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –ø—Ä–∞–≤–¥—ã** - –∏–∑–±–µ–≥–∞–µ–º –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –ª–æ–≥–∏–∫–∏
- **–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –ø–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—é** - –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–æ–∫ –∏ —Ñ–∞–π–ª–æ–≤
- **TypeScript First** - TypeScript –∫–∞–∫ –æ—Å–Ω–æ–≤–∞, CommonJS —Ç–æ–ª—å–∫–æ –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏

### Project Structure

```
neira-super-app/
‚îú‚îÄ‚îÄ scripts/         # –°–ª—É–∂–µ–±–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã –∏ —É—Ç–∏–ª–∏—Ç—ã
‚îú‚îÄ‚îÄ tests/           # –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã (0_unit, 1_integration, 3_smoke)
‚îî‚îÄ‚îÄ packages/        # –û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞–∫–µ—Ç—ã
```

## üßπ –ü—Ä–æ–∞–∫—Ç–∏–≤–Ω–∞—è –≥–∏–≥–∏–µ–Ω–∞

### –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –î–∏—Å—Ü–∏–ø–ª–∏–Ω–∞

**–ü—Ä–∏–Ω—Ü–∏–ø**: –°–∏—Å—Ç–µ–º–∞ –¥–æ–ª–∂–Ω–∞ —Å–∞–º–∞ –Ω–µ –ø–æ–∑–≤–æ–ª—è—Ç—å –¥–æ–±–∞–≤–ª—è—Ç—å "–º—É—Å–æ—Ä", –¥—É–±–ª–∏—Ä–æ–≤–∞—Ç—å –ª–æ–≥–∏–∫—É, –∏–º–µ—Ç—å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –∏ —Ç–¥.

1. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑**: `knip` (–Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ñ–∞–π–ª—ã), **ESLint 9** (–∞–Ω–∞–ª–∏–∑ –∫–æ–¥–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `eslint.config.js`)
2. **CI/CD –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**: –ü—Ä–æ–≤–µ—Ä–∫–∏ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã –¥–ª—è merge requests
3. **Code Review –∫—É–ª—å—Ç—É—Ä–∞**: –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ = —É–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä–æ–≥–æ –∫–æ–¥–∞

### CI/CD Pipeline (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏)

1. **–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: `prettier --check`
2. **–õ–∏–Ω—Ç–∏–Ω–≥**: `eslint` (ESLint 9 —Å –ø–ª–æ—Å–∫–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π)
3. **–ú—ë—Ä—Ç–≤—ã–π –∫–æ–¥**: `knip`
4. **–¢–∏–ø–∏–∑–∞—Ü–∏—è**: `tsc --noEmit`
5. **–¢–µ—Å—Ç—ã**: `vitest run`
6. **Smoke —Ç–µ—Å—Ç—ã**: `yarn test:smoke`
7. **–°–±–æ—Ä–∫–∞**: `yarn build`

## üîß Test Architecture

### Unified Pattern

- **TypeScript –∏—Å—Ç–æ—á–Ω–∏–∫**: –ü–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å —Ç–∏–ø–∞–º–∏
- **CommonJS wrapper**: –¢–æ–Ω–∫–∏–π —Å–ª–æ–π –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
- **tsx –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–æ–º–ø–∏–ª—è—Ü–∏—è TypeScript

### Test Categories

```bash
tests/0_unit/         # Unit —Ç–µ—Å—Ç—ã
tests/1_integration/  # Integration —Ç–µ—Å—Ç—ã
tests/3_smoke/        # Smoke —Ç–µ—Å—Ç—ã (–±–∞–∑–æ–≤—ã–µ —Ñ–∞–π–ª—ã + —Å–±–æ—Ä–∫–∞)
```

## üîß Build Quality

### Configuration Standards

- **–£–¥–∞–ª—è–µ–º –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –±–ª–æ–∫–∏** –∏–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π
- **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–µ–º –ø–ª–∞–Ω—ã** –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è—Ö
- **–ú–∏–Ω–∏–º–∏–∑–∏—Ä—É–µ–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π –∫–æ–¥**

### Build Reliability

- **Fail-Fast Approach**: –í CI/CD –ø–∞–π–ø–ª–∞–π–Ω–µ –∏ –ª–æ–∫–∞–ª—å–Ω—ã—Ö —Å–±–æ—Ä–æ—á–Ω—ã—Ö —Å–∫—Ä–∏–ø—Ç–∞—Ö (–Ω–∞–ø—Ä. `forge.config.js`) –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è **fail-fast –ø–æ–¥—Ö–æ–¥**. –õ—é–±–∞—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∫–ª—é—á–µ–≤—ã—Ö –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤ –ø–æ—Å–ª–µ —Å–±–æ—Ä–∫–∏) –¥–æ–ª–∂–Ω–∞ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –ø—Ä–µ—Ä—ã–≤–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å. –≠—Ç–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –ø–æ–ø–∞–¥–∞–Ω–∏–µ –¥–µ—Ñ–µ–∫—Ç–Ω—ã—Ö —Å–±–æ—Ä–æ–∫ –≤ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ production.

### Dependencies Management

- **–ò–∑–±–µ–≥–∞–µ–º –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è** –ø–∞–∫–µ—Ç–æ–≤ –º–µ–∂–¥—É workspace
- **Workspace hoisting** –¥–ª—è –æ–±—â–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- **–†–µ–≥—É–ª—è—Ä–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è** —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö –ø–∞–∫–µ—Ç–æ–≤

### Monorepo Orchestration (Turborepo)

- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**: `Turborepo` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–≥–æ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤ —Å–±–æ—Ä–∫–∏ –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á. –≠—Ç–æ –∫–∞—Ä–¥–∏–Ω–∞–ª—å–Ω–æ —É—Å–∫–æ—Ä—è–µ—Ç –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ —Å–±–æ—Ä–∫–∏ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∏.
- **–û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è**: –£–ø—Ä–∞–≤–ª—è–µ—Ç –ø–æ—Ä—è–¥–∫–æ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á (`build`, `test`, `lint`) –≤–æ –≤—Å–µ—Ö –ø–∞–∫–µ—Ç–∞—Ö –º–æ–Ω–æ—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è, –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É—è –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º.

### –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –ê–Ω–∞–ª–∏–∑ bundle —Ä–∞–∑–º–µ—Ä–æ–≤
du -sh packages/*/dist/

# –ê–Ω–∞–ª–∏–∑ –¥—É–±–ª–∏—Ä—É—é—â–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
yarn why package-name

# –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞
scripts/cleanup-workspace.sh
```

## üìä Quality Metrics

### Code Indicators

- **–ú—ë—Ä—Ç–≤—ã–π –∫–æ–¥**: 0 —Å—Ç—Ä–æ–∫ (100% —É–¥–∞–ª–µ–Ω–∏–µ)
- **–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ**: –º–µ–Ω–µ–µ 5% –ª–æ–≥–∏–∫–∏ –º–µ–∂–¥—É —Ñ–∞–π–ª–∞–º–∏
- **Build –≤—Ä–µ–º—è**: –º–µ–Ω–µ–µ 30 —Å–µ–∫—É–Ω–¥ –¥–ª—è –ø–æ–ª–Ω–æ–π —Å–±–æ—Ä–∫–∏ (–¥–æ—Å—Ç–∏–≥–∞–µ—Ç—Å—è –∑–∞ —Å—á—ë—Ç –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è **Turborepo**)
- **Test coverage**: &gt;80% –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### Organization Metrics

- **–°–ª—É–∂–µ–±–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –≤ –∫–æ—Ä–Ω–µ**: 0
- **–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ—Å—Ç—å —Ç–µ—Å—Ç–æ–≤**: 100%
- **TypeScript vs CommonJS**: 90%+ TypeScript

## ‚úÖ Quality Checklist

- [ ] –ú—ë—Ä—Ç–≤—ã–π –∫–æ–¥ —É–¥–∞–ª—ë–Ω –∏–∑ –≤—Å–µ—Ö –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π
- [ ] –°–ª—É–∂–µ–±–Ω—ã–µ —Ñ–∞–π–ª—ã –ø–µ—Ä–µ–º–µ—â–µ–Ω—ã –≤ scripts/
- [ ] Test utils —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω—ã (TS source + JS wrapper)
- [ ] Build –ø—Ä–æ—Ö–æ–¥–∏—Ç –±–µ–∑ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π
- [ ] Smoke —Ç–µ—Å—Ç—ã –∑–µ–ª—ë–Ω—ã–µ
- [ ] Dependencies –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ
- [ ] File structure —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º

---

**–í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞**

- **–î–∞—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏:** 2025-06-16
- **–ü—Ä–æ–≤–µ—Ä–∏–ª:** Documentation Reviewer (AI)
- **–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç–∏:** –î–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç —Ç–µ–∫—É—â–∏–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞. –í—Å–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –∞–∫—Ç—É–∞–ª—å–Ω–æ–º—É —Å–æ—Å—Ç–æ—è–Ω–∏—é –ø—Ä–æ–µ–∫—Ç–∞.

---
