# üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ NEIRA Super App ‚Äì –û–±–∑–æ—Ä

> **Status:** Stable ¬∑ **Last updated:** 2025-07-01  
> **–ï–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –ø—Ä–∞–≤–¥—ã –ø–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã**

## –û–±–∑–æ—Ä: Super App 2.0

NEIRA Super App ‚Äî —ç—Ç–æ –º–æ–¥—É–ª—å–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ _Super App 2.0_, –ø–æ—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –Ω–∞ –Ω–∞–¥—ë–∂–Ω–æ–º —è–¥—Ä–µ-¬´–æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ¬ª (`shell`) –∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–º UI-—Å–ª–æ–µ (`neira-app`). –î–≤—É—Ö—É—Ä–æ–≤–Ω–µ–≤—ã–π –¥–∏–∑–∞–π–Ω –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å, –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å.

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Å–ª–æ–∏

| –°–ª–æ–π               | –ü–∞–∫–µ—Ç                       | –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ                                                                                                                                        |
| ------------------ | --------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Core / Shell**   | `packages/shell`            | Electron-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –ø–æ—Å—Ç—Ä–æ–µ–Ω–Ω–æ–µ –ø–æ _Manager Architecture_. –£–ø—Ä–∞–≤–ª—è–µ—Ç –æ–∫–Ω–∞–º–∏, –≤–∫–ª–∞–¥–∫–∞–º–∏, IPC-–∫–∞–Ω–∞–ª–∞–º–∏, –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å—é –∏ —Ñ–æ–Ω–æ–≤—ã–º–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏.             |
| **UI**             | `packages/neira-app`        | –°—Ç–∞—Ç–∏—á–µ—Å–∫–æ–µ Next.js 15-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (output: `export`). –ù–µ —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–µ—Ä–≤–µ—Ä–∞, –∏—Å–ø–æ–ª–Ω—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ –ø—Ä–æ—Ç–æ–∫–æ–ª `neira://`. –ü–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –ø–æ IPC. |
| **Business Logic** | `packages/polylith-backend` | Polylith-–º–æ–Ω–æ—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ (Chat, AI, MCP –∏ —Ç. –¥.). –õ–æ–≥–∏–∫–∞ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–∞ –∑–∞ –ø—Ä–µ–¥–µ–ª–∞–º–∏ Electron.                             |

### –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö (—É–ø—Ä–æ—â—ë–Ω–Ω–∞—è —Å—Ö–µ–º–∞)

```mermaid
sequenceDiagram
    participant UI as neira-app (Renderer)
    participant Preload as contextBridge
    participant Shell as Main Process
    participant Worker as Utility Process

    UI->>Preload: window.neiraAPI.invoke("channel", payload)
    Preload->>Shell: IPC invoke
    Shell->>Shell: –ú–µ–Ω–µ–¥–∂–µ—Ä –≤—ã–ø–æ–ª–Ω—è–µ—Ç –ª–æ–≥–∏–∫—É
    Shell-->>Preload: result
    Preload-->>UI: Promise resolve
    Shell->>Worker: heavyTask() (async)
```

## –ö–ª—é—á–µ–≤—ã–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã

### 1. Manager Architecture 2.0

–ì–ª–∞–≤–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å –¥–µ–∫–æ–º–ø–æ–∑–∏—Ä–æ–≤–∞–Ω –Ω–∞ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –º–µ–Ω–µ–¥–∂–µ—Ä—ã —Å —á–µ—Ç–∫–∏–º –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º:

- **WindowManager** ‚Äì –æ–∫–Ω–∞ & WebContentsView
- **TabManager** ‚Äì –∂–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –≤–∫–ª–∞–¥–æ–∫
- **IPCManager** ‚Äì —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è/–º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –∫–∞–Ω–∞–ª–æ–≤
- **APIManager** ‚Äì _—Ç–æ–Ω–∫–∏–π –ø—Ä–æ–∫—Å–∏_ –¥–ª—è –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –≤ polylith-backend

> **–î–µ—Ç–∞–ª–∏:** [Manager Architecture](/03-core-concepts/1-architecture-patterns/04-manager-architecture)

### 2. –ü–∞—Ç—Ç–µ—Ä–Ω "–¢–æ–Ω–∫–∏–π –ø—Ä–æ–∫—Å–∏" (2025 —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥)

> **–û–±–Ω–æ–≤–ª–µ–Ω–æ:** 2025-07-01 ‚Äî –ó–∞–≤–µ—Ä—à–µ–Ω —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ APIManager

**APIManager** —É–ø—Ä–æ—â–µ–Ω —Å 1400+ –¥–æ ~400 —Å—Ç—Ä–æ–∫, —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ "—Ç–æ–Ω–∫–∏–π –ø—Ä–æ–∫—Å–∏":

```typescript
// ‚úÖ –ù–û–í–´–ô –ø–æ–¥—Ö–æ–¥: APIManager –∫–∞–∫ —Ç–æ–Ω–∫–∏–π –ø—Ä–æ–∫—Å–∏
class APIManager {
  constructor() {
    this.taskExecutionService = new TaskExecutionService(...);
  }

  async handleChat(request) {
    const execResult = await this.taskExecutionService.execute({ tool: toolName, params: args });
    return backendAdapters.textGeneration.generateText(request);
  }
}
```

**–ö–ª—é—á–µ–≤—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ (2025-07-01):**

- ‚úÖ **AIGenerationService** –ø–æ–ª–Ω–æ—Å—Ç—å—é –º–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤ `polylith-backend`
- ‚úÖ **TaskExecutionService** –∞–∫—Ç–∏–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
- ‚úÖ **PolylithChatService** —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑—É–µ—Ç —Ä–∞–±–æ—Ç—É —Å –ë–î —á–∞—Ç–æ–≤
- ‚úÖ **APIManager** —Å–æ–∫—Ä–∞—â–µ–Ω –¥–æ —Ä–æ–ª–∏ "—Ç–æ–Ω–∫–æ–≥–æ –ø—Ä–æ–∫—Å–∏" (~400 —Å—Ç—Ä–æ–∫)
- ‚úÖ **–ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å:** –ö–∞–∂–¥—ã–π —Å–µ—Ä–≤–∏—Å –∏–º–µ–µ—Ç —á–µ—Ç–∫—É—é –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å
- ‚úÖ **–¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å:** –û—Ç–¥–µ–ª—å–Ω—ã–µ unit-—Ç–µ—Å—Ç—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

### –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (2025)

**–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (—è–Ω–≤–∞—Ä—å 2025):**
| –ú–µ—Ç—Ä–∏–∫–∞ | –î–æ | –ü–æ—Å–ª–µ | –£–ª—É—á—à–µ–Ω–∏–µ |
|---------|----|----|-----------|
| –†–∞–∑–º–µ—Ä node_modules | 1.2GB | 780MB | 35% ‚Üì |
| –í—Ä–µ–º—è —Å–±–æ—Ä–∫–∏ | 2m 30s | 1m 15s | 50% ‚Üì |
| –•–æ–ª–æ–¥–Ω—ã–π —Å—Ç–∞—Ä—Ç | 2.5s | 0.3s | 88% ‚Üì |

**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (–∏—é–Ω—å 2025):**
| –ú–µ—Ç—Ä–∏–∫–∞ | –î–æ | –ü–æ—Å–ª–µ | –£–ª—É—á—à–µ–Ω–∏–µ |
|---------|----|----|-----------|
| Memory Usage | 420MB | 300MB | 29% ‚Üì |
| CPU Load | 35% | 22% | 37% ‚Üì |

### 3. VS Code-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (Static + IPC)

- **–°—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–±–æ—Ä–∫–∞**: `neira-app` –∫–∞–∫ –Ω–∞–±–æ—Ä —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤
- **–ü—Ä–æ—Ç–æ–∫–æ–ª `neira://`**: –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –ø—Ä–æ—Ç–æ–∫–æ–ª –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è
- **IPC API**: –í—Å–µ –≤—ã–∑–æ–≤—ã —á–µ—Ä–µ–∑ IPC –≤–º–µ—Å—Ç–æ HTTP

_–î–µ—Ç–∞–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ VS Code –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ_

### 4. Polylith –¥–ª—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏

> **–û–±–Ω–æ–≤–ª–µ–Ω–æ:** 2025-07-01 ‚Äî –ü—Ä–æ–≥—Ä–µ—Å—Å –º–∏–≥—Ä–∞—Ü–∏–∏

–ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω–∞ –ø–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ **Polylith**:

```mermaid
flowchart TD
    subgraph polylith-backend
        PS[PlannerService]
        TES[TaskExecutionService]
        CAS[ChatAnalysisService]
    end

    subgraph shell
        API[APIManager] --> PS
        API --> TES
        API --> CAS
    end
```

**–°—Ç–∞—Ç—É—Å –º–∏–≥—Ä–∞—Ü–∏–∏:**

- ‚úÖ AIGenerationService –º–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω
- ‚úÖ TaskExecutionService –∞–∫—Ç–∏–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
- ‚è≥ PlannerService –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –ø–µ—Ä–µ–Ω–æ—Å–∞

> **–î–µ—Ç–∞–ª–∏:** [Polylith Architecture](/03-core-concepts/1-architecture-patterns/10-polylith-architecture)

## –†–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã

| –†–µ–∂–∏–º         | –û–ø–∏—Å–∞–Ω–∏–µ                                 | –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏                                                                                                    |
| :------------ | :--------------------------------------- | :---------------------------------------------------------------------------------------------------------------------- |
| **Fast Mode** | –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —Å–∫–æ—Ä–æ—Å—Ç–∏. | –°–æ–∑–¥–∞–Ω–∏–µ –≤–∫–ª–∞–¥–∫–∏ –º–≥–Ω–æ–≤–µ–Ω–Ω–æ (~200ms), –±–µ–∑ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ Utility Processes –∏ CDP.                                             |
| **Full Mode** | –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–ª–Ω—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å.   | –ê–∫—Ç–∏–≤–∏—Ä—É–µ—Ç Utility Processes –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±—Ä–∞—É–∑–µ—Ä–æ–º (CDP), –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Ä–∞–±–æ—á–µ–≥–æ —Å—Ç–æ–ª–∞ (nut.js) –∏ —Ä–∞–±–æ—Ç—ã AI-–∞–≥–µ–Ω—Ç–æ–≤. |

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```bash
yarn start:fast  # Fast Mode (< 200ms –≤–∫–ª–∞–¥–∫–∞)
yarn start:full  # Full Mode (—Å CDP –∏ workers)
yarn dev:neira-app  # –¢–æ–ª—å–∫–æ AI-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
```

### –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

1. **UI –∫–æ–¥** —Ç–æ–ª—å–∫–æ –≤ `packages/neira-app/` (–∑–∞–ø—Ä–µ—â–µ–Ω–æ SSR/API-Routes)
2. **IPC-–∫–∞–Ω–∞–ª—ã** –æ–ø–∏—Å—ã–≤–∞—Ç—å –≤ `packages/shared-types` ‚Üí –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è `allowed-channels.json`
3. **UI —Å–ª–æ–π** –≤ sandbox –±–µ–∑ –ø—Ä—è–º–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ Node.js
4. **–†–µ—Å—É—Ä—Å–æ—ë–º–∫–∏–µ –∑–∞–¥–∞—á–∏** –≤ Utility Processes

## –î–µ—Ç–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã

- üìã [Manager Architecture](/03-core-concepts/1-architecture-patterns/04-manager-architecture)
- üß± [Polylith Architecture](/03-core-concepts/1-architecture-patterns/10-polylith-architecture)

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã

- üñ•Ô∏è [Shell Core](/03-core-concepts/2-shell-core/01-shell-architecture)
- üé® [UI Layer](/03-core-concepts/3-ui-layer/01-chat-architecture)
- ü§ñ [AI Engine](/03-core-concepts/4-ai-engine/01-ai-architecture)

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

- üîå [IPC Architecture](/03-core-concepts/2-shell-core/06-ipc-architecture)

---

_–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: Production Ready. –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ 2025 –≥–æ–¥–∞ —É–∫—Ä–µ–ø–∏–ª –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å —á–µ—Ä–µ–∑ TypeScript, Polylith –º–∏–≥—Ä–∞—Ü–∏—é –∏ –∫–æ–Ω—Å–æ–ª–∏–¥–∞—Ü–∏—é IPC-–∫–∞–Ω–∞–ª–æ–≤._
