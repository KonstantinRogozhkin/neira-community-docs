# üé§ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ì–æ–ª–æ—Å–æ–≤–æ–≥–æ –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ NEIRA Super App

## üéØ –û–±–∑–æ—Ä

–ì–æ–ª–æ—Å–æ–≤–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å NEIRA Super App ‚Äî —ç—Ç–æ –∫–ª—é—á–µ–≤–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å AI-–∞–≥–µ–Ω—Ç–∞–º–∏, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—â–∏–π –∞–∫—Ç–∏–≤–∞—Ü–∏—é, —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—é —Ä–µ—á–∏ –≤ —Ç–µ–∫—Å—Ç (STT) –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å —Å–∏—Å—Ç–µ–º–æ–π. –û–Ω —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω —Å —É—á–µ—Ç–æ–º —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏, –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ –≥–∏–±–∫–æ—Å—Ç–∏, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—è –Ω–µ—Å–∫–æ–ª—å–∫–æ STT-–ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ –∏ —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ä–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã.

## üèóÔ∏è –ö–ª—é—á–µ–≤—ã–µ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ü—Ä–∏–Ω—Ü–∏–ø—ã

1. **–ú–Ω–æ–≥–æ—Ä–µ–∂–∏–º–Ω–æ—Å—Ç—å**: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ä–µ–∂–∏–º–æ–≤ —Ä–∞–±–æ—Ç—ã (off, listening, realtime) –¥–ª—è –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –æ–ø—ã—Ç–∞.
2. **–ì–∏–±–∫–æ—Å—Ç—å STT-–ü—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤**: –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ª–µ–≥–∫–æ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å—Å—è –º–µ–∂–¥—É STT-–ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º–∏ (Gladia, AssemblyAI) –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏—Ö –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω–æ–π –∏ —Ä–µ–∑–µ—Ä–≤–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç—ã.
3. **–ù–∞–∫–æ–ø–ª–µ–Ω–∏–µ –¢–µ–∫—Å—Ç–∞**: –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ –Ω–∞–∫–æ–ø–ª–µ–Ω–∏–µ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –º–µ–∂–¥—É —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞–º–∏.
4. **–£—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –∫ –û—à–∏–±–∫–∞–º**: –ú–µ—Ö–∞–Ω–∏–∑–º—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫, —Ç–∞–∫–∏–µ –∫–∞–∫ retry-–ª–æ–≥–∏–∫–∞, cooldown –∏ graceful fallback, –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è —Å—Ç–∞–±–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã.
5. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**: –ú–∏–Ω–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–¥–µ—Ä–∂–µ–∫ –ø—Ä–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ –∏ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏, –∞ —Ç–∞–∫–∂–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤.

## üõ†Ô∏è –ö–ª—é—á–µ–≤—ã–µ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 1. –†–µ–∂–∏–º—ã –†–∞–±–æ—Ç—ã

- **OFF**: –ì–æ–ª–æ—Å–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã (–∏–∫–æ–Ω–∫–∞ MicOff).
- **LISTENING**: –û–∂–∏–¥–∞–Ω–∏–µ hotword "–ù–µ–π—Ä–∞ —Ç—ã —Ç—É—Ç" (–∏–∫–æ–Ω–∫–∞ Volume2, –∫–æ–º–ø–∞–∫—Ç–Ω–æ–µ –æ–∫–Ω–æ).
- **REALTIME**: –ù–µ–ø—Ä–µ—Ä—ã–≤–Ω–∞—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è –≤ –ø–æ–ª–µ –≤–≤–æ–¥–∞ (–∏–∫–æ–Ω–∫–∞ Mic —Å pulse –∞–Ω–∏–º–∞—Ü–∏–µ–π, –ø–æ–ª–Ω–æ–µ –æ–∫–Ω–æ –∑–∞–ø–∏—Å–∏).

### 2. –ê–∫—Ç–∏–≤–∞—Ü–∏—è

- **Alt+Space**: –ì–ª–æ–±–∞–ª—å–Ω—ã–π —à–æ—Ä—Ç–∫–∞—Ç –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è —Ä–µ–∂–∏–º–æ–≤ (off ‚Üí listening ‚Üí realtime ‚Üí off).
- **Hotword**: "–ù–µ–π—Ä–∞ —Ç—ã —Ç—É—Ç" –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç realtime –∏–∑ listening —Ä–µ–∂–∏–º–∞.

### 3. STT –ü—Ä–æ–≤–∞–π–¥–µ—Ä—ã

- **Gladia API v2 (–æ—Å–Ω–æ–≤–Ω–æ–π)**: –ü—Ä—è–º–æ–π PCM –∑–∞—Ö–≤–∞—Ç (Float32‚ÜíInt16), WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ, 16kHz sample rate.
- **AssemblyAI (fallback)**: –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã, –Ω–∞—Ç–∏–≤–Ω–∞—è WebM –ø–æ–¥–¥–µ—Ä–∂–∫–∞, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö 429.

### 4. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –°–∏—Å—Ç–µ–º—ã

```
VoiceInput ‚Üí useVoiceInput ‚Üí STTManager ‚Üí Gladia/AssemblyAI
    ‚Üì             ‚Üì              ‚Üì            ‚Üì
UI Controls ‚Üí Audio Capture ‚Üí WebSocket ‚Üí Transcription
```

### 5. –ù–∞–∫–æ–ø–ª–µ–Ω–∏–µ –¢–µ–∫—Å—Ç–∞

- `accumulatedTextRef`: –•—Ä–∞–Ω–∏—Ç –≤—Å–µ –ø—Ä–æ–∏–∑–Ω–µ—Å–µ–Ω–Ω—ã–µ —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã.
- `Final transcripts`: –î–æ–±–∞–≤–ª—è—é—Ç—Å—è —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ –ø—Ä–æ–±–µ–ª–∞–º–∏.
- `Partial transcripts`: –ü–æ–∫–∞–∑—ã–≤–∞—é—Ç –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω—ã–π + —Ç–µ–∫—É—â–∏–π —Ç–µ–∫—Å—Ç.
- –°–±—Ä–æ—Å –ø—Ä–∏ –Ω–æ–≤–æ–º —Å–µ–∞–Ω—Å–µ –∏–ª–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ —Ä–µ–∂–∏–º–∞.

### 6. –í—Å–ø–ª—ã–≤–∞—é—â–µ–µ –û–∫–Ω–æ –ó–∞–ø–∏—Å–∏

- –ü–æ–∑–∏—Ü–∏—è: –í–≤–µ—Ä—Ö—É –ø–æ —Ü–µ–Ω—Ç—Ä—É —ç–∫—Ä–∞–Ω–∞, –ø–æ–≤–µ—Ä—Ö –≤—Å–µ—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.
- –ê–≤—Ç–æ—Å–∫—Ä—ã—Ç–∏–µ: –ü—Ä–∏ –≤—ã–∫–ª—é—á–µ–Ω–∏–∏ –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞.
- –†–∞–∑–º–µ—Ä—ã: –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ (listening: 160x40px, realtime: 200x60px).
- –î–∏–∑–∞–π–Ω: Chrome-style —Å blur —ç—Ñ—Ñ–µ–∫—Ç–æ–º –∏ –∞–Ω–∏–º–∞—Ü–∏—è–º–∏.

### 7. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏ –£–ª—É—á—à–µ–Ω–∏—è

- **Race Condition (contextBridge/React)**: –£—Å—Ç—Ä–∞–Ω–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞, –∫–æ–≥–¥–∞ React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∑–∞–≥—Ä—É–∂–∞–ª–∏—Å—å –±—ã—Å—Ç—Ä–µ–µ, —á–µ–º `contextBridge` API –±—ã–ª –≥–æ—Ç–æ–≤. –î–æ–±–∞–≤–ª–µ–Ω–æ –æ–∂–∏–¥–∞–Ω–∏–µ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ API –≤ `useVoiceInput.ts`.
- **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–∞ `handleGetVoiceStatus`**: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –¥–ª—è –≤—Å–µ–≥–¥–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –≤–æ–∑–≤—Ä–∞—Ç–∞ `voiceMode` –∏ `hotwordDetected`.
- **`AudioManager` IPC –º–µ—Ç–æ–¥—ã**: –ó–∞–º–µ–Ω–µ–Ω—ã –≤—Å–µ –≤—ã–∑–æ–≤—ã `sendToRenderer` –Ω–∞ `sendToMainWindow` –≤ `packages/shell/src/main/managers/AudioManager.ts` –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ –≥–ª–∞–≤–Ω–æ–µ –æ–∫–Ω–æ.
- **DevTools Autofill –û—à–∏–±–∫–∏**: –û—Ç–∫–ª—é—á–µ–Ω—ã –Ω–µ–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ Autofill –∏ –ø–æ–¥–∞–≤–ª–µ–Ω—ã –∫–æ–Ω—Å–æ–ª—å–Ω—ã–µ –æ—à–∏–±–∫–∏ –≤ `packages/shell/src/main/super-app.ts`.
- **URL –¥–ª—è –Ω–æ–≤—ã—Ö –≤–∫–ª–∞–¥–æ–∫**: –ò–∑–º–µ–Ω–µ–Ω–æ —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö –≤–∫–ª–∞–¥–æ–∫ –≤ `TabsBar.tsx` –Ω–∞ `https://www.google.com` –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è toolbar'–æ–≤.

## ‚úÖ –¢–µ–∫—É—â–∏–π –°—Ç–∞—Ç—É—Å

–ì–æ–ª–æ—Å–æ–≤–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ–Ω –∏ —Å—Ç–∞–±–∏–ª–µ–Ω. –í—Å–µ –≤—ã—è–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å Race Condition, IPC-–∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–µ–π –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π —Å —Å–æ–∑–¥–∞–Ω–∏–µ–º –≤–∫–ª–∞–¥–æ–∫, —É—Å–ø–µ—à–Ω–æ —É—Å—Ç—Ä–∞–Ω–µ–Ω—ã –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã. –°–∏—Å—Ç–µ–º–∞ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –Ω–∞–¥–µ–∂–Ω—ã–π –∏ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç.

**–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è**: –ò—é–Ω—å 2025
**–°—Ç–∞—Ç—É—Å**: PRODUCTION READY
