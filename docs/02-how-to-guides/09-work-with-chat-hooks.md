---
id: work-with-chat-hooks
title: '–ö–∞–∫ —Ä–∞–±–æ—Ç–∞—Ç—å —Å —Ö—É–∫–∞–º–∏ —á–∞—Ç–∞'
sidebar_label: '–†–∞–±–æ—Ç–∞ —Å —Ö—É–∫–∞–º–∏ —á–∞—Ç–∞'
---

> üí° **Try it online**: –•–æ—Ç–∏—Ç–µ –ø–æ—ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —Å —Ö—É–∫–∞–º–∏, –Ω–µ –ø–æ–¥–Ω–∏–º–∞—è –≤–µ—Å—å –ø—Ä–æ–µ–∫—Ç? –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –ø–µ—Å–æ—á–Ω–∏—Ü—É StackBlitz:
>
> [üöÄ –û—Ç–∫—Ä—ã—Ç—å Playground –¥–ª—è useChatCore](https://stackblitz.com/github/neira-super-app/examples-chat-hooks)

# üìñ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –Ω–æ–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π —Ö—É–∫–æ–≤ —á–∞—Ç–∞

**–í–µ—Ä—Å–∏—è:** 1.0 | **–°—Ç–∞—Ç—É—Å:** ‚úÖ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è | **–î–∞—Ç–∞:** 2025-06-21

–≠—Ç–æ—Ç –≥–∞–π–¥ –æ–±—ä—è—Å–Ω—è–µ—Ç, –∫–∞–∫ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏ —Ä–∞—Å—à–∏—Ä—è—Ç—å –Ω–æ–≤—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É —Ö—É–∫–æ–≤ —á–∞—Ç–∞, —Å–æ–∑–¥–∞–Ω–Ω—É—é –ø–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ `useChatCore`.

## üèõÔ∏è –§–∏–ª–æ—Å–æ—Ñ–∏—è: –ö–æ–º–ø–æ–∑–∏—Ü–∏—è –ù–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ

–ö–ª—é—á–µ–≤–æ–π –ø—Ä–∏–Ω—Ü–∏–ø –Ω–æ–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã ‚Äî **–∫–æ–º–ø–æ–∑–∏—Ü–∏—è —Ö—É–∫–æ–≤**. –í–º–µ—Å—Ç–æ –æ–¥–Ω–æ–≥–æ –≥–∏–≥–∞–Ω—Ç—Å–∫–æ–≥–æ —Ö—É–∫–∞ (`God Hook`) –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∞–ª–µ–Ω—å–∫–∏—Ö, —Å—Ñ–æ–∫—É—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ö—É–∫–æ–≤. –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π —Ö—É–∫ `useChatCore` –≤—ã—Å—Ç—É–ø–∞–µ—Ç –≤ —Ä–æ–ª–∏ **–æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä–∞**, –∫–æ—Ç–æ—Ä—ã–π –∫–æ–æ—Ä–¥–∏–Ω–∏—Ä—É–µ—Ç –∏—Ö —Ä–∞–±–æ—Ç—É.

–ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ [README `features/chat/hooks`](/../packages/neira-app/features/chat/hooks/).

## üéØ –û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### 1. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ UI-—Å–æ—Å—Ç–æ—è–Ω–∏—è

**–ó–∞–¥–∞—á–∞:** –î–æ–±–∞–≤–∏—Ç—å —Ñ–ª–∞–≥, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç —Å–∫—Ä—ã–≤–∞—Ç—å/–ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –∞–≤–∞—Ç–∞—Ä—ã –≤ —Å–ø–∏—Å–∫–µ —Å–æ–æ–±—â–µ–Ω–∏–π.

**–†–µ—à–µ–Ω–∏–µ:**

1. **–ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–µ–º `useChatUIStore`:**

   - –î–æ–±–∞–≤–ª—è–µ–º `showAvatars: boolean` –≤ `interface UIState`.
   - –î–æ–±–∞–≤–ª—è–µ–º —ç–∫—à–µ–Ω `toggleShowAvatars: () => void`.

2. **–ò—Å–ø–æ–ª—å–∑—É–µ–º –≤ `useChatCore`:**

   - –î–æ—Å—Ç–∞–µ–º –Ω–æ–≤—ã–π —Ñ–ª–∞–≥ –∏ —ç–∫—à–µ–Ω –∏–∑ `useChatState`.
   - –ü—Ä–æ–∫–∏–¥—ã–≤–∞–µ–º –∏—Ö –≤ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–π –æ–±—ä–µ–∫—Ç.

   ```typescript
   // useChatCore.ts
   export const useChatCore = (props) => \{
     const chatState = useChatState(props);
     // ...
     return \{
       // ...
       showAvatars: chatState.showAvatars,
       toggleShowAvatars: chatState.toggleShowAvatars,
     };
   }
   ```

3. **–ò—Å–ø–æ–ª—å–∑—É–µ–º –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ:**
   - –ö–æ–º–ø–æ–Ω–µ–Ω—Ç `MessageList.tsx` –ø–æ–ª—É—á–∞–µ—Ç –Ω–æ–≤—ã–µ –ø—Ä–æ–ø—Å—ã –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∏—Ö –¥–ª—è —É—Å–ª–æ–≤–Ω–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞.

### 2. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ –≤–≤–æ–¥–∞

**–ó–∞–¥–∞—á–∞:** –î–æ–±–∞–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ –Ω–∞–∂–∞—Ç–∏—é `Ctrl+Enter`.

**–†–µ—à–µ–Ω–∏–µ:**

1. **–°–æ–∑–¥–∞–µ–º –Ω–æ–≤—ã–π —Ö—É–∫ `useKeyboardSubmit.ts`:**

   - –≠—Ç–æ—Ç —Ö—É–∫ –±—É–¥–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å `onSubmit` –∏ `input` –≤ –∫–∞—á–µ—Å—Ç–≤–µ –ø—Ä–æ–ø—Å–æ–≤.
   - –í–Ω—É—Ç—Ä–∏ `useEffect` –æ–Ω –±—É–¥–µ—Ç –≤–µ—à–∞—Ç—å –∏ —Å–Ω–∏–º–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ `keydown`.

2. **–ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ–º –≤ `useChatCore`:**

   - –í—ã–∑—ã–≤–∞–µ–º –Ω–æ–≤—ã–π —Ö—É–∫ `useKeyboardSubmit(\{ onSubmit: append, input })`.

   ```typescript
   // useChatCore.ts
   export const useChatCore = (props) => \{
     // ...
     const \{ append, input } = useNeiraChat(/* ... */);
     useKeyboardSubmit(\{ onSubmit: append, input });
     // ...
   }
   ```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:** –õ–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –Ω–∞–∂–∞—Ç–∏–π –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä–æ–≤–∞–Ω–∞ –∏ –Ω–µ "–∑–∞–≥—Ä—è–∑–Ω—è–µ—Ç" `useChatCore`.

### 3. –ü–æ–ª—É—á–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏–∑ `main`-–ø—Ä–æ—Ü–µ—Å—Å–∞

**–ó–∞–¥–∞—á–∞:** –ó–∞–≥—Ä—É–∑–∏—Ç—å –∏ –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å —Å—Ç–∞—Ç—É—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–≤ —Å–µ—Ç–∏" / "–Ω–µ –≤ —Å–µ—Ç–∏").

**–†–µ—à–µ–Ω–∏–µ:**

1. **–û–ø—Ä–µ–¥–µ–ª—è–µ–º IPC-–∫–æ–Ω—Ç—Ä–∞–∫—Ç** –≤ `packages/shared-types`.
2. **–°–æ–∑–¥–∞–µ–º IPC-–æ–±—Ä–∞–±–æ—Ç—á–∏–∫** –≤ `packages/shell`.
3. **–°–æ–∑–¥–∞–µ–º –Ω–æ–≤—ã–π —Ö—É–∫ `useUserStatus.ts`** –≤ `features/user/hooks`:

   - –í–Ω—É—Ç—Ä–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `useQuery` –¥–ª—è –≤—ã–∑–æ–≤–∞ –Ω–æ–≤–æ–≥–æ IPC-–∫–∞–Ω–∞–ª–∞.
   - –•—É–∫ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `\{ status, isLoading }`.

4. **–ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ–º –≤ `useChatCore`** (–∏–ª–∏ –≤ –ª—é–±–æ–π –¥—Ä—É–≥–æ–π —Ö—É–∫-–æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä, –≥–¥–µ —ç—Ç–æ –Ω—É–∂–Ω–æ):
   - `const \{ status: userStatus } = useUserStatus(userId);`
   - –ü—Ä–æ–∫–∏–¥—ã–≤–∞–µ–º `userStatus` –≤ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–π –æ–±—ä–µ–∫—Ç.

## üö´ –ê–Ω—Ç–∏-–ø–∞—Ç—Ç–µ—Ä–Ω—ã (–ß–µ–≥–æ —Å–ª–µ–¥—É–µ—Ç –∏–∑–±–µ–≥–∞—Ç—å)

- **–î–æ–±–∞–≤–ª—è—Ç—å —Å–ª–æ–∂–Ω—É—é –ª–æ–≥–∏–∫—É –Ω–∞–ø—Ä—è–º—É—é –≤ `useChatCore`**: –ï—Å–ª–∏ –ª–æ–≥–∏–∫–∞ –Ω–µ—Ç—Ä–∏–≤–∏–∞–ª—å–Ω–∞, –≤—ã–Ω–µ—Å–∏—Ç–µ –µ–µ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ö—É–∫.
- **–°–æ–∑–¥–∞–≤–∞—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –º–µ–∂–¥—É —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ —Ö—É–∫–∞–º–∏**: –•—É–∫–∏ –Ω–µ –¥–æ–ª–∂–Ω—ã –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –¥—Ä—É–≥ –¥—Ä—É–≥–∞. –í—Å—é –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—é –≤—ã–ø–æ–ª–Ω—è–µ—Ç `useChatCore`.
- **–†–∞–∑–º–µ—â–∞—Ç—å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É –≤ UI-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö**: –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–æ–ª–∂–Ω—ã –æ—Å—Ç–∞–≤–∞—Ç—å—Å—è "–≥–ª—É–ø—ã–º–∏" –∏ —Ç–æ–ª—å–∫–æ –≤—ã–∑—ã–≤–∞—Ç—å –≥–æ—Ç–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–∑ —Ö—É–∫–æ–≤.

---

–°–ª–µ–¥—É—è —ç—Ç–∏–º –ø—Ä–∏–Ω—Ü–∏–ø–∞–º, –º—ã —Å–æ—Ö—Ä–∞–Ω–∏–º –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É —á–∞—Ç–∞ —á–∏—Å—Ç–æ–π, –º–æ–¥—É–ª—å–Ω–æ–π –∏ –ª–µ–≥–∫–æ —Ä–∞—Å—à–∏—Ä—è–µ–º–æ–π.
