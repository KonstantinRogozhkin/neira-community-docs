---
id: 05-ipc-architecture
title: 05. IPC-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (Channel Groups)
description: –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –º–µ–∂–ø—Ä–æ—Ü–µ—Å—Å–Ω–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è (IPC) –Ω–∞ –æ—Å–Ω–æ–≤–µ –≥—Ä—É–ø–ø –∫–∞–Ω–∞–ª–æ–≤ –≤ NEIRA Super App.
---

**–í–µ—Ä—Å–∏—è:** 3.1 (–ö–æ–º–ø–∞–∫—Ç–Ω–∞—è)  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ **–î–µ–π—Å—Ç–≤—É—é—â–∏–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç**  
**–û–±–Ω–æ–≤–ª–µ–Ω–æ:** 2025-06-30 (DOCBUILDER —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥)

## ‚ö° –§–∏–ª–æ—Å–æ—Ñ–∏—è

–ú–µ–∂–ø—Ä–æ—Ü–µ—Å—Å–Ω–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ (IPC) ‚Äî —ç—Ç–æ –Ω–µ—Ä–≤–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ Electron-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –í NEIRA Super App –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –º–æ–¥—É–ª—å–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É **Channel Groups** –≤–º–µ—Å—Ç–æ –º–æ–Ω–æ–ª–∏—Ç–Ω–æ–≥–æ `IPCManager`.

**–ò—Å—Ç–æ—á–Ω–∏–∫ –ø—Ä–∞–≤–¥—ã (SSOT):** `shell` (main-–ø—Ä–æ—Ü–µ—Å—Å) ‚Äî –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –ø—Ä–∞–≤–¥—ã. `neira-app` (renderer-–ø—Ä–æ—Ü–µ—Å—Å) —Ç–æ–ª—å–∫–æ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ.

## üìñ –ú–æ–¥—É–ª–∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

### üèõÔ∏è [–û—Å–Ω–æ–≤—ã Channel Groups](/03-core-concepts/2-shell-core/ipc-architecture/01-channel-groups-basics)

- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≥—Ä—É–ø–ø –∫–∞–Ω–∞–ª–æ–≤
- IPCManager –∫–∞–∫ –¥–∏—Ä–∏–∂–µ—Ä, –¥–∏–∞–≥—Ä–∞–º–º—ã –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è

### üîÑ –ü–æ—Ç–æ–∫ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤

- –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª IPC-–∑–∞–ø—Ä–æ—Å–∞ –æ—Ç UI –¥–æ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è

*–ü–æ–¥—Ä–æ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ*

### üìù –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∫–∞–Ω–∞–ª–æ–≤

- –ï–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –ø—Ä–∞–≤–¥—ã –≤ shared-types
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

*–ü–æ–¥—Ä–æ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ*

### üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ IPC

- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –∫–∞–Ω–∞–ª–æ–≤ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏

*–ü–æ–¥—Ä–æ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ*

### üîß –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã

- TabChannels, WindowChannels, VoiceChannels —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

*–ü–æ–¥—Ä–æ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ*

### üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –æ—Ç–ª–∞–¥–∫–∞

- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ IPC-–≤—ã–∑–æ–≤–æ–≤ –∏ –º–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

*–ü–æ–¥—Ä–æ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ*

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

**–°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –≥—Ä—É–ø–ø—ã –∫–∞–Ω–∞–ª–æ–≤:**

1. **–û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ –∫–∞–Ω–∞–ª—ã** –≤ `shared-types` ‚Üí –°–º. —Ä–∞–∑–¥–µ–ª "–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∫–∞–Ω–∞–ª–æ–≤" –≤—ã—à–µ
2. **–°–æ–∑–¥–∞–π—Ç–µ –≥—Ä—É–ø–ø—É** –≤ `shell/managers/channels/` ‚Üí [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –≥—Ä—É–ø–ø](/03-core-concepts/2-shell-core/ipc-architecture/01-channel-groups-basics)
3. **–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ –≤ IPCManager** ‚Üí –°–º. —Ä–∞–∑–¥–µ–ª "–ü–æ—Ç–æ–∫ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤" –≤—ã—à–µ
4. **–°–æ–∑–¥–∞–π—Ç–µ –∫–ª–∏–µ–Ω—Ç** –≤ `neira-app/lib/ipc-api.ts` ‚Üí –°–º. —Ä–∞–∑–¥–µ–ª "–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã" –≤—ã—à–µ

## üéØ –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã

- **–ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å**: –ö–∞–∂–¥–∞—è –≥—Ä—É–ø–ø–∞ –∫–∞–Ω–∞–ª–æ–≤ –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Å–≤–æ–π –¥–æ–º–µ–Ω
- **–¢–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –í—Å–µ –∫–∞–Ω–∞–ª—ã —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω—ã —á–µ—Ä–µ–∑ shared-types
- **–ï–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –ø—Ä–∞–≤–¥—ã**: Main-–ø—Ä–æ—Ü–µ—Å—Å –≤–ª–∞–¥–µ–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
- **–¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å**: –ö–∞–∂–¥–∞—è –≥—Ä—É–ø–ø–∞ –ª–µ–≥–∫–æ —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞

```mermaid
graph TD
    subgraph "neira-app (Renderer)"
        A[UI Component] --> B{ipc-api Client}
    end

    B -- ipcRenderer.invoke --> C{ipcMain}

    subgraph "shell (Main)"
        C --> D[IPCManager]
        D --> E{Channel Groups}
        E --> F[Business Logic]
    end

    subgraph Channel Groups
        G[TabChannels]
        H[WindowChannels]
        I[VoiceChannels]
    end

    style B fill:#333,stroke:#555
    style D fill:#444,stroke:#666
    style E fill:#555,stroke:#777
```

## üí° –ü—Ä–∏–º–µ—Ä –ø—Ä–æ—Å—Ç–æ–π –≥—Ä—É–ø–ø—ã –∫–∞–Ω–∞–ª–æ–≤

```typescript
// TabChannels.ts
export class TabChannels {
  constructor({ tabManager }) {
    this.tabManager = tabManager;
  }

  register(ipcManager: IPCManager) {
    ipcManager.registerHandler('tabs:create', this.handleCreateTab.bind(this));
    ipcManager.registerHandler('tabs:close', this.handleCloseTab.bind(this));
  }

  private async handleCreateTab(_event, options: TabOptions) {
    // 1. –í–∞–ª–∏–¥–∞—Ü–∏—è
    if (!options.url) throw new Error('URL is required');
    // 2. –í—ã–∑–æ–≤ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏
    const tab = await this.tabManager.createTab(options);
    // 3. –í–æ–∑–≤—Ä–∞—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
    return tab.toJSON();
  }
}
```

## üîÑ –ë–∞–∑–æ–≤—ã–π –ø–æ—Ç–æ–∫ –æ–±—Ä–∞–±–æ—Ç–∫–∏

1. **UI** ‚Üí –í—ã–∑–æ–≤ `ipcApi.tabs.create({ url: 'neira://app' })`
2. **ipc-api** ‚Üí `ipcRenderer.invoke('tabs:create', { url: 'neira://app' })`
3. **IPCManager** ‚Üí –ù–∞—Ö–æ–¥–∏—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ `TabChannels.handleCreateTab`
4. **TabChannels** ‚Üí –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ –≤—ã–∑–æ–≤ `tabManager.createTab(...)`
5. **TabManager** ‚Üí –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –≤–∫–ª–∞–¥–∫–∏
6. **–†–µ–∑—É–ª—å—Ç–∞—Ç** ‚Üí –í–æ–∑–≤—Ä–∞—Ç –ø–æ —Ü–µ–ø–æ—á–∫–µ –≤ UI

## üìù –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞–Ω–∞–ª–∞–º–∏ (SECURITY:CRITICAL_DEFECTS_CLEANUP)

### –ï–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –ø—Ä–∞–≤–¥—ã

–í—Å–µ IPC-–∫–∞–Ω–∞–ª—ã –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –≤ `packages/shared-types/src/ipc-channels.ts`:

```typescript
export const AllowedChannels = {
  TABS: {
    CREATE: 'tabs:create',
    CLOSE: 'tabs:close',
  },
  WINDOW: {
    MINIMIZE: 'window:minimize',
    MAXIMIZE: 'window:maximize',
  },
} as const;
```

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è

- **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:** `allowed-channels.json` –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ —Å–±–æ—Ä–∫–µ
- **–¢–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** TypeScript —Ç–∏–ø—ã –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å
- **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:** –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–≤–µ—Ä—è—é—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–π –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏

### –ú–∏–≥—Ä–∞—Ü–∏—è Legacy API (LEGACY:IPC_MIGRATION_COMPLETE)

**–ó–∞–≤–µ—Ä—à–µ–Ω–∞ –º–∏–≥—Ä–∞—Ü–∏—è –æ—Ç —É—Å—Ç–∞—Ä–µ–≤—à–µ–≥–æ Legacy API –∫ —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ Channel Groups:**

- ‚úÖ –£–¥–∞–ª–µ–Ω—ã —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ –ø—Ä—è–º—ã–µ –≤—ã–∑–æ–≤—ã IPC
- ‚úÖ –í—Å–µ –∫–∞–Ω–∞–ª—ã –º–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã –Ω–∞ —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É
- ‚úÖ –£–ª—É—á—à–µ–Ω–∞ —Ç–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- ‚úÖ –ü–æ–ª–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞

## ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

- **SRP**: –ö–∞–∂–¥—ã–π –∫–ª–∞—Å—Å –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Å–≤–æ—é —á–∞—Å—Ç—å –ª–æ–≥–∏–∫–∏
- **–¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å**: –ò–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –º–æ–∫–∞–º–∏
- **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å**: –ü—Ä–æ—Å—Ç–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –≥—Ä—É–ø–ø –∫–∞–Ω–∞–ª–æ–≤
- **–¢–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –ü–æ–ª–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ shared-types
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º—ã–π —Å–ø–∏—Å–æ–∫ —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã—Ö –∫–∞–Ω–∞–ª–æ–≤

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ú–µ–Ω–µ–¥–∂–µ—Ä–æ–≤](/03-core-concepts/1-architecture-patterns/04-manager-architecture)
- [–ü—Ä–∏–Ω—Ü–∏–ø—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏](/03-core-concepts/1-architecture-patterns/08-security-principles)
- [–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–∫–ª–∞–¥–∫–∞–º–∏](/03-core-concepts/2-shell-core/08-tab-management)
- [–¢–∏–ø—ã shared-types](/../packages/shared-types/README)

---

**üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –î–æ–∫—É–º–µ–Ω—Ç —Å–æ–∫—Ä–∞—â–µ–Ω DOCBUILDER –¥–ª—è —Å–æ–±–ª—é–¥–µ–Ω–∏—è –ª–∏–º–∏—Ç–∞ 250 —Å—Ç—Ä–æ–∫. –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ —Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –ø–æ–¥–º–æ–¥—É–ª—è—Ö.
