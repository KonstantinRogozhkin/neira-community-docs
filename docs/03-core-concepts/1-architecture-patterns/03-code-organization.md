# üèõÔ∏è –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –∫–æ–¥–∞ –∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –≤ NEIRA Super App

> **–¶–µ–ª—å**: –≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç –∫–ª—é—á–µ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã, –∫–æ—Ç–æ—Ä—ã–º –º—ã —Å–ª–µ–¥—É–µ–º –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏—è —á–∏—Å—Ç–æ—Ç—ã, –º–æ–¥—É–ª—å–Ω–æ—Å—Ç–∏ –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç–∏ –∫–æ–¥–æ–≤–æ–π –±–∞–∑—ã.

## 1. üì¶ –ü—Ä–∏–Ω—Ü–∏–ø "Modular Decomposition" (–ú–æ–¥—É–ª—å–Ω–∞—è –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è)

–ú—ã –∏–∑–±–µ–≥–∞–µ–º "–±–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö" –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∏ –º–æ–Ω–æ–ª–∏—Ç–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤. –õ—é–±–æ–π —Å–ª–æ–∂–Ω—ã–π —É—á–∞—Å—Ç–æ–∫ –∫–æ–¥–∞ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ä–∞–∑–±–∏—Ç –Ω–∞ –Ω–µ–±–æ–ª—å—à–∏–µ, –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∏ —Ç–µ—Å—Ç–∏—Ä—É–µ–º—ã–µ –º–æ–¥—É–ª–∏.

**–ü—Ä–∞–≤–∏–ª–æ**: "–ú–æ–Ω–æ–ª–∏—Ç > 500 —Å—Ç—Ä–æ–∫ ‚Üí —Å–∏–≥–Ω–∞–ª –∫ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–π –º–æ–¥—É–ª—å–Ω–æ–π –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏–∏".

**–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ**:

- **React-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**: –°–ª–æ–∂–Ω—ã–µ UI-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ä–∞–∑–±–∏–≤–∞—é—Ç—Å—è –Ω–∞:

  - **Custom Hooks**: –¥–ª—è –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏–∏ –ª–æ–≥–∏–∫–∏ (`useChatSession`, `useModelManager`).
  - **Service Layers**: –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏.
  - **UI-–∫–æ–º–ø–æ–∑–∏—Ü–∏—é**: —Å–±–æ—Ä–∫–∞ –∏—Ç–æ–≥–æ–≤–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –∏–∑ –±–æ–ª–µ–µ –º–µ–ª–∫–∏—Ö, –≥–ª—É–ø—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.

- **Main-–ø—Ä–æ—Ü–µ—Å—Å**: –ú–æ–Ω–æ–ª–∏—Ç–Ω—ã–π –∫–æ–¥ –∑–∞–º–µ–Ω–µ–Ω –Ω–∞ —Å–∏—Å—Ç–µ–º—É **Manager Architecture**:

  - `WindowManager`, `TabManager`, `ServerManager`, `ProcessManager`, `AudioManager`, `IPCManager`, `MCPManager`
  - –ö–∞–∂–¥—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Å–≤–æ—é –æ–±–ª–∞—Å—Ç—å –∏ –Ω–∞—Å–ª–µ–¥—É–µ—Ç—Å—è –æ—Ç `BaseManager`.

- **Electron Preload**: –¢—Ä–∏ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö preload-—Å–∫—Ä–∏–ø—Ç–∞ –æ–±—ä–µ–¥–∏–Ω–µ–Ω—ã –≤ –æ–¥–∏–Ω —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–º –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ–º.

**–ü—Ä–∏–º–µ—Ä—ã —É—Å–ø–µ—à–Ω–æ–≥–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞**:

- `MCPManager.ts` (9,299 —Å–∏–º–≤–æ–ª–æ–≤) –∑–∞–º–µ–Ω–∏–ª —Ä–∞–∑—Ä–æ–∑–Ω–µ–Ω–Ω—É—é –ª–æ–≥–∏–∫—É –≤ 5+ —Ñ–∞–π–ª–∞—Ö
- `super-app.js` —É–º–µ–Ω—å—à–µ–Ω —Å 2000+ —Å—Ç—Ä–æ–∫ –¥–æ 600 —á–µ—Ä–µ–∑ –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –º–µ–Ω–µ–¥–∂–µ—Ä–∞–º
- `AudioManager.ts` –≤—ã–¥–µ–ª–µ–Ω –∏–∑ –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å

## 2. üéØ Feature-Sliced Design (FSD) –≤ neira-app

–ú—ã –ø—Ä–∏–¥–µ—Ä–∂–∏–≤–∞–µ–º—Å—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã FSD –¥–ª—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ React-–∫–æ–¥–∞:

```
features/          # –ë–∏–∑–Ω–µ—Å-—Ñ–∏—á–∏
‚îú‚îÄ‚îÄ chat/          # AI —á–∞—Ç
‚îú‚îÄ‚îÄ mcp/           # MCP —Å–µ—Ä–≤–µ—Ä—ã
‚îú‚îÄ‚îÄ tabs/          # –ë—Ä–∞—É–∑–µ—Ä–Ω—ã–µ –≤–∫–ª–∞–¥–∫–∏
‚îî‚îÄ‚îÄ auth/          # –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

components/        # –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ UI
lib/              # –£—Ç–∏–ª–∏—Ç—ã, —Å—Ç–æ—Ä—ã, –∫–ª–∏–µ–Ω—Ç—ã
```

**–ü—Ä–∞–≤–∏–ª–∞ FSD**:

- **–§–∏—á–∏ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω—ã**: `features/chat/` –Ω–µ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –∫–æ–¥ –∏–∑ `features/mcp/`
- **–û–±—â–µ–Ω–∏–µ —á–µ—Ä–µ–∑ API**: –ú–µ–∂—Ñ–∏—á–µ–≤–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ —Ö—É–∫–∏ –∏–∑ `lib/`
- **–û–¥–∏–Ω-–∫-–æ–¥–Ω–æ–º—É**: –û–¥–Ω–∞ —Ñ–∏—á–∞ = –æ–¥–Ω–∞ –±–∏–∑–Ω–µ—Å-—Å—É—â–Ω–æ—Å—Ç—å

## 3. üîÑ Continuous Refactoring (–ù–µ–ø—Ä–µ—Ä—ã–≤–Ω—ã–π —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥)

**–ü—Ä–∞–≤–∏–ª–æ**: "–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ ‚Äî –Ω–µ —Å–æ–±—ã—Ç–∏–µ, –∞ –ø—Ä–æ—Ü–µ—Å—Å".

**–°–∏–≥–Ω–∞–ª—ã –∫ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥—É**:

- **500+ —Å—Ç—Ä–æ–∫** –≤ –æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ
- **–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞** –±–æ–ª–µ–µ —á–µ–º –≤ 3 –º–µ—Å—Ç–∞—Ö
- **–ì–ª—É–±–æ–∫–∞—è –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å** (–±–æ–ª–µ–µ 4 —É—Ä–æ–≤–Ω–µ–π)
- **–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å** (–∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–µ–ª–∞–µ—Ç > 1 –≤–µ—â–∏)

**–°—Ç—Ä–∞—Ç–µ–≥–∏–∏**:

1. **–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ö—É–∫–æ–≤**: –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ ‚Üí custom hooks
2. **–ö–æ–º–ø–æ–∑–∏—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤**: –ú–æ–Ω–æ–ª–∏—Ç ‚Üí –Ω–∞–±–æ—Ä –º–µ–ª–∫–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
3. **–°–µ—Ä–≤–∏—Å–Ω—ã–µ —Å–ª–æ–∏**: API-–≤—ã–∑–æ–≤—ã ‚Üí –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã
4. **Manager –¥–µ–∫–æ–º–ø–æ–∑–∏—Ü–∏—è**: –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã ‚Üí —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –º–µ–Ω–µ–¥–∂–µ—Ä—ã

## 4. üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ (Monorepo)

–ü—Ä–æ–µ–∫—Ç –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω –∫–∞–∫ `yarn workspaces` monorepo, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ —É–ø—Ä–∞–≤–ª—è—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏ –∏ —Å–∫—Ä–∏–ø—Ç–∞–º–∏.

```
/
‚îú‚îÄ‚îÄ docs/                 # –í—Å—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
‚îú‚îÄ‚îÄ packages/
‚îÇ   ‚îú‚îÄ‚îÄ shell/            # üöÄ –Ø–¥—Ä–æ Electron (Main, Preload, Workers)
‚îÇ   ‚îú‚îÄ‚îÄ neira-app/        # üé® UI-—Å–ª–æ–π (Next.js 15, React 19)
‚îÇ   ‚îú‚îÄ‚îÄ shared-types/     # üì¶ –û–±—â–∏–µ —Ç–∏–ø—ã –¥–ª—è IPC
‚îÇ   ‚îú‚îÄ‚îÄ polylith-backend/ # üß± Polylith –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥–ª—è –±—ç–∫–µ–Ω–¥-—Å–µ—Ä–≤–∏—Å–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ ...               # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –ø–∞–∫–µ—Ç—ã
‚îú‚îÄ‚îÄ scripts/              # –°–∫—Ä–∏–ø—Ç—ã –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –∏ CI/CD
‚îî‚îÄ‚îÄ tests/                # e2e, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –∏ unit-—Ç–µ—Å—Ç—ã
```

### 4.1. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

> **–û–±–Ω–æ–≤–ª–µ–Ω–æ:** 2025-07-01 –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –æ—á–∏—Å—Ç–∫–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

**–ü—Ä–∏–Ω—Ü–∏–ø—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏:**

1. **–ú–∏–Ω–∏–º–∏–∑–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π**: –ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–µ–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –≤–Ω–µ—à–Ω–∏–º –ø–∞–∫–µ—Ç–∞–º
2. **–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å—Ç–µ–∫**: –†–µ–≥—É–ª—è—Ä–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö —Å—Ç–∞–±–∏–ª—å–Ω—ã—Ö –≤–µ—Ä—Å–∏–π
3. **–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è**: –ó–∞–º–µ–Ω–∞ —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö –ø–∞–∫–µ—Ç–æ–≤ –Ω–∞ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∞–Ω–∞–ª–æ–≥–∏

**–ö–ª—é—á–µ–≤—ã–µ –∑–∞–º–µ–Ω—ã (–≤—ã–ø–æ–ª–Ω–µ–Ω–æ):**

- `electron-store` ‚Üí `@neira/storage` (—É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ)
- `electron-log` ‚Üí `@neira/logger` (—Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ)
- `puppeteer` ‚Üí `Playwright` (—Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
- `jest` ‚Üí `Vitest` (–±—ã—Å—Ç—Ä–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤)
- `webpack` ‚Üí `Vite` (–±—ã—Å—Ç—Ä–∞—è —Å–±–æ—Ä–∫–∞)
- `ts-node` ‚Üí `tsx` (–±—ã—Å—Ç—Ä–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ TypeScript)

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:**

- –†–∞–∑–º–µ—Ä `node_modules`: **-35%** (1.2GB ‚Üí 780MB)
- –í—Ä–µ–º—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π: **-42%** (3m 45s ‚Üí 2m 10s)
- –í—Ä–µ–º—è —Å–±–æ—Ä–∫–∏: **-50%** (2m 30s ‚Üí 1m 15s)
- –í—Ä–µ–º—è —Ö–æ–ª–æ–¥–Ω–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞: **-88%** (2.5s ‚Üí 0.3s)

**–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞:**

- `knip` - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- `ts-unused-exports` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö —ç–∫—Å–ø–æ—Ä—Ç–æ–≤
- `dependabot` - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

–ö–ª—é—á–µ–≤—ã–µ –ø–∞–∫–µ—Ç—ã:

- **`packages/shell`**: "–ú–æ–∑–≥" –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –ó–¥–µ—Å—å –∂–∏–≤—É—Ç `super-app.ts`, –≤—Å–µ –º–µ–Ω–µ–¥–∂–µ—Ä—ã (`WindowManager`, `TabManager` –∏ —Ç.–¥.), –≤–æ—Ä–∫–µ—Ä—ã –∏ preload-—Å–∫—Ä–∏–ø—Ç—ã. –û—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –≤—Å—é –ª–æ–≥–∏–∫—É, –Ω–µ —Å–≤—è–∑–∞–Ω–Ω—É—é —Å UI.
- **`packages/neira-app`**: "–õ–∏—Ü–æ" –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –°—Ç–∞—Ç–∏—á–µ—Å–∫–æ–µ Next.js –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å. –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–µ—Ç —Å `shell` –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ —á–µ—Ä–µ–∑ `contextBridge` API.
- **`packages/shared-types`**: "–ö–æ–Ω—Ç—Ä–∞–∫—Ç—ã". –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç TypeScript-—Ç–∏–ø—ã –¥–ª—è –≤—Å–µ—Ö IPC-–∫–∞–Ω–∞–ª–æ–≤, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è —Å—Ç—Ä–æ–≥—É—é —Ç–∏–ø–∏–∑–∞—Ü–∏—é –º–µ–∂–¥—É `shell` –∏ `neira-app`.
- **`packages/polylith-backend`**: "–ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞". –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –±—ç–∫–µ–Ω–¥-—Å–µ—Ä–≤–∏—Å–æ–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã Polylith, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—â–µ–π –≤—ã—Å–æ–∫—É—é –º–æ–¥—É–ª—å–Ω–æ—Å—Ç—å –∏ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ—Å—Ç—å –∫–æ–¥–∞.

## 5. üß± Polylith-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

> **–û–±–Ω–æ–≤–ª–µ–Ω–æ:** 2025-07-31

Polylith-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ ‚Äî —ç—Ç–æ –ø–æ–¥—Ö–æ–¥ –∫ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –∫–æ–¥–∞, –∫–æ—Ç–æ—Ä—ã–π –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –≤—ã—Å–æ–∫—É—é –º–æ–¥—É–ª—å–Ω–æ—Å—Ç—å, –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ—Å—Ç—å –∏ —Ç–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤. –í NEIRA Super App –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º Polylith –¥–ª—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏, –∫–æ—Ç–æ—Ä–∞—è –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∞ –∑–∞ –ø—Ä–µ–¥–µ–ª–∞–º–∏ Electron-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

### 5.1. –ü—Ä–∏–Ω—Ü–∏–ø—ã Polylith –≤ NEIRA Super App

- **–ï–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –ø—Ä–∞–≤–¥—ã (SSOT)**: –ö–∞–∂–¥—ã–π —Å–µ—Ä–≤–∏—Å –∏–ª–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å—É—â–µ—Å—Ç–≤—É–µ—Ç —Ç–æ–ª—å–∫–æ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ ‚Äî –≤ –ø–∞–∫–µ—Ç–µ `polylith-backend`.
- **–ß—ë—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏**:
  - `shell` –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É –∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—é (–æ–∫–Ω–∞, –≤–∫–ª–∞–¥–∫–∏, IPC)
  - `polylith-backend` —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å—é –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É (—á–∞—Ç, AI, –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á)
- **–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ—Å—Ç—å**: –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–∑ `polylith-backend` –º–æ–≥—É—Ç –±—ã—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã –≤ –¥—Ä—É–≥–∏—Ö –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞—Ö (CLI, web, mobile) –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π.

### 5.2. –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ Shell —Å Polylith-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏

`shell` –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–∑ `@neira/polylith-backend` –∫–∞–∫ –æ–±—ã—á–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏, `shell` –ø–µ—Ä–µ–¥–∞—ë—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º —Å—Å—ã–ª–∫–∏ –Ω–∞ —Å–≤–æ–∏ –º–µ–Ω–µ–¥–∂–µ—Ä—ã —á–µ—Ä–µ–∑ –∏–Ω—ä–µ–∫—Ü–∏—é –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.

**–ü—Ä–∏–º–µ—Ä –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è**:

```typescript
// packages/shell/src/main/managers/APIManager.ts
import { PlannerService } from '@neira/polylith-backend'

export class APIManager extends BaseManager {
  private plannerService: PlannerService

  constructor(options) {
    super(options)
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–∞ –∏–∑ polylith-backend
    this.plannerService = new PlannerService({
      // –ü–µ—Ä–µ–¥–∞—á–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏–∑ shell
      processManager: options.processManager,
    })
  }

  // –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–µ—Ç–æ–¥–æ–≤ —Å–µ—Ä–≤–∏—Å–∞
  async handlePlanTask(task) {
    return this.plannerService.planTask(task)
  }
}
```

### 5.3. –≠–∫—Å–ø–æ—Ä—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∏–∑ Polylith

–í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏ –∏—Ö –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –∏–∑ –∫–æ—Ä–Ω–µ–≤–æ–≥–æ `index.ts` –ø–∞–∫–µ—Ç–∞ `polylith-backend`:

```typescript
// packages/polylith-backend/src/index.ts
export { PlannerService } from './components/PlannerService'
export { TaskExecutionService } from './components/TaskExecutionService'
export type { PlannerOptions, TaskOptions } from './types'
```

### 5.4. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Polylith-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã Polylith —Ç–µ—Å—Ç–∏—Ä—É—é—Ç—Å—è –∫–∞–∫ –≤ –∏–∑–æ–ª—è—Ü–∏–∏ (unit-—Ç–µ—Å—Ç—ã), —Ç–∞–∫ –∏ –≤ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –¥—Ä—É–≥–∏–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ —Å–∏—Å—Ç–µ–º—ã:

```typescript
// tests/1_integration/polylith-services.spec.ts
import { PlannerService } from '@neira/polylith-backend'

describe('PlannerService integration', () => {
  it('should correctly plan tasks', async () => {
    const plannerService = new PlannerService({
      /* mock dependencies */
    })
    const result = await plannerService.planTask({
      /* task data */
    })
    expect(result).toHaveProperty('steps')
  })
})
```

---

**–í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞**

- **–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2025-06-16
- **–î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:** 2025-07-31
- **–ò–∑–≤–ª–µ—á–µ–Ω–æ –∏–∑:** docs/archive/2025-06/ (–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –æ—Ç—á–µ—Ç—ã), docs/sprints/29-06-2025/code-audit-fixes-2025-07/[DONE]-02-polylith-migration.md
- **–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç–∏:** –ü—Ä–∏–Ω—Ü–∏–ø—ã –ø—Ä–∏–º–µ–Ω–µ–Ω—ã –≤ –∫—Ä—É–ø–Ω—ã—Ö —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞—Ö MCP, IPC, –∏ Manager —Å–∏—Å—Ç–µ–º. –û–±–Ω–æ–≤–ª–µ–Ω–æ –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É Polylith.
